function __$styleInject(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&o.firstChild?o.insertBefore(r,o.firstChild):o.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}import PropTypes from"prop-types";import React from"react";__$styleInject("._arrow_1rec4_5 {\n  border: 7px solid transparent;\n  left: -7px !important;\n  position: absolute !important; }\n  ._arrow_1rec4_5._bottom_1rec4_9 {\n    bottom: 100% !important; }\n\n._wrapper_1rec4_12 {\n  position: fixed !important;\n  /* state */ }\n  ._wrapper_1rec4_12._invisible_1rec4_15 {\n    pointer-events: none !important;\n    visibility: hidden !important; }\n  ._wrapper_1rec4_12._visible_1rec4_18 {\n    pointer-events: auto !important;\n    visibility: visible !important; }\n\n/* tooltips are screen-media only */\n@media print {\n  ._wrapper_1rec4_12 {\n    display: none !important; } }\n\n@media speech {\n  ._wrapper_1rec4_12 {\n    display: none !important; } }\n",{});var styles={backgroundColor:"#222222",spacing:"14px",arrow:"_arrow_1rec4_5",bottom:"_bottom_1rec4_9",wrapper:"_wrapper_1rec4_12",invisible:"_invisible_1rec4_15",visible:"_visible_1rec4_18"},classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),defineProperty=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t};function getStyleForTooltipArrow(e){var t=e.location,n=e.backgroundColor,o=""+t.charAt(0).toUpperCase()+t.slice(1);return defineProperty({},"border"+o+"Color",n)}function getStyleForTooltipBody(e,t,n,o){if(!n||!o)return{};var r=n.getBoundingClientRect(),i=o.getBoundingClientRect(),s=r.left+r.width/2,l=i.width/2;return l>s?l=s:s+l>document.documentElement.clientWidth&&(l=s+i.width-document.documentElement.scrollWidth),{transform:"translateX(-"+l+"px)"}}function getStyleForTooltipComponent(e,t){return{visibility:t.showTooltip?"visible":"hidden"}}function getStyleForTooltipContent(e){return{backgroundColor:e.backgroundColor}}function getStyleForTooltipWrapper(e,t,n,o){var r=e.location,i=e.spacing,s=e.zIndex;if(!n)return{};var l={},a=n.getBoundingClientRect(),p=o.getBoundingClientRect();switch(s&&(l.zIndex=s),r){case"bottom":return _extends({},l,{left:a.left+a.width/2,top:a.top+a.height+i+1});case"top":return _extends({},l,{left:a.left+a.width/2,top:a.top-p.height-i-1});default:return console.warn("unknown tooltip direction '"+r+"'"),l}}var TOOLTIP_LOCATION_SHAPE=PropTypes.oneOf(["bottom","top"]),TT=function(e){function t(e){classCallCheck(this,t);var n=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseEnter=function(){n.show()},n.onMouseLeave=function(){n.hide()},n.onScroll=function(e){n.state.showTooltip&&n.forceUpdate()},n.state={showTooltip:!1},n.el=null,n.parentEl=null,n.bodyEl=null,n.componentEl=null,n}return inherits(t,e),createClass(t,[{key:"componentDidMount",value:function(){this.parentEl=this.el.parentElement,this.applyListeners(!0)}},{key:"componentWillUnmount",value:function(){this.applyListeners(!1),this.parentEl=null,this.el=null,this.bodyEl=null,this.componentEl=null}},{key:"applyListeners",value:function(e){e?(this.parentEl.addEventListener("mouseenter",this.onMouseEnter),this.parentEl.addEventListener("mouseleave",this.onMouseLeave),window.addEventListener("scroll",this.onScroll)):(this.parentEl.removeEventListener("mouseenter",this.onMouseEnter),this.parentEl.removeEventListener("mouseleave",this.onMouseLeave),window.removeEventListener("scroll",this.onScroll))}},{key:"hide",value:function(){this.setState(function(){return{showTooltip:!1}})}},{key:"show",value:function(){this.setState(function(){return{showTooltip:!0}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,o=t.id,r=t.location,i=this.state.showTooltip?styles.visible:styles.invisible,s=styles.arrow+" "+styles[r]+" "+i,l=styles[r]+" "+i,a=styles[r]+" "+i,p=styles.wrapper+" "+styles[r]+" "+i,c=getStyleForTooltipArrow(this.props,this.state,this.parentEl,this.bodyEl),u=getStyleForTooltipBody(this.props,this.state,this.parentEl,this.bodyEl),d=getStyleForTooltipComponent(this.props,this.state,this.parentEl,this.bodyEl),h=getStyleForTooltipContent(this.props,this.state,this.parentEl,this.bodyEl),y=getStyleForTooltipWrapper(this.props,this.state,this.parentEl,this.bodyEl);return React.createElement("div",{className:p,id:o,onMouseEnter:this.onMouseLeave,ref:function(t){return e.el=t},role:"tooltip",style:y},React.createElement("div",{className:a,ref:function(t){return e.componentEl=t},style:d},React.createElement("div",{className:l,ref:function(t){return e.bodyEl=t},style:u},React.createElement("div",{style:h},n)),React.createElement("div",{className:s,style:c})))}}]),t}(React.Component);TT.propTypes={backgroundColor:PropTypes.string,children:PropTypes.any,id:PropTypes.string.isRequired,location:TOOLTIP_LOCATION_SHAPE,spacing:PropTypes.number,zIndex:PropTypes.number},TT.defaultProps={backgroundColor:"#222222",location:"top",spacing:14,zIndex:0};export default TT;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uL3NyYy9nZXRTdHlsZXMuanMiLCIuLi9zcmMvc2hhcGVzLmpzIiwiLi4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzdHlsZXMgZnJvbSAnLi9zdHlsZXMuc2Nzcyc7XG5cbmNvbnN0IG1pblNwYWNpbmcgPSBwYXJzZUludChzdHlsZXMuc3BhY2luZywgMTApOyAvKiBcIjwjPnB4XCIgLT4gPCM+ICovXG5cbi8qKlxuICogYnVpbGRzIGEgQ1NTIHN0eWxlIG9iamVjdCB0byBiZSBhcHBsaWVkIHRvIHRoZSB0b29sdGlwIGFycm93XG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHNcbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0ZVxuICogQHBhcmFtIHtFbGVtZW50fSBwYXJlbnRFbFxuICogQHBhcmFtIHtFbGVtZW50fSBib2R5RWxcbiAqIEByZXR1cm4ge09iamVjdH0gQ1NTIHN0eWxlIG9iamVjdFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3R5bGVGb3JUb29sdGlwQXJyb3cocHJvcHMpIHtcbiAgICBjb25zdCB7XG4gICAgICAgIGxvY2F0aW9uLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3JcbiAgICB9ID0gcHJvcHM7XG4gICAgY29uc3Qgc2lkZSA9IGAke2xvY2F0aW9uLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpfSR7bG9jYXRpb24uc2xpY2UoMSl9YDtcblxuICAgIHJldHVybiB7XG4gICAgICAgIFtgYm9yZGVyJHtzaWRlfUNvbG9yYF06IGJhY2tncm91bmRDb2xvclxuICAgIH07XG59XG5cbi8qKlxuICogYnVpbGRzIGEgQ1NTIHN0eWxlIG9iamVjdCB0byBiZSBhcHBsaWVkIHRvIHRoZSB0b29sdGlwIGJvZHlcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wc1xuICogQHBhcmFtIHtPYmplY3R9IHN0YXRlXG4gKiBAcGFyYW0ge0VsZW1lbnR9IHBhcmVudEVsXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGJvZHlFbFxuICogQHJldHVybiB7T2JqZWN0fSBDU1Mgc3R5bGUgb2JqZWN0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdHlsZUZvclRvb2x0aXBCb2R5KHByb3BzLCBzdGF0ZSwgcGFyZW50RWwsIGJvZHlFbCkge1xuICAgIGlmICghcGFyZW50RWwgfHwgIWJvZHlFbCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuXG4gICAgLyogY2FsY3VsYXRlIGEgdHJhbnNsYXRlWCBvdGhlciB0aGFuIC01MCUgaWYgbmVlZGVkIHRvIHByZXZlbnQgdG9vbHRpcFxuICAgICAqIGNvbnRlbnRzIGZyb20gYmVpbmcgY2xpcHBlZCBieSB0aGUgdmlld3BvcnQgKi9cbiAgICBjb25zdCBwYXJlbnRCQiA9IHBhcmVudEVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IGJvZHlCQiA9IGJvZHlFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCBwYXJlbnRDZW50ZXIgPSBwYXJlbnRCQi5sZWZ0ICsgKHBhcmVudEJCLndpZHRoIC8gMik7XG4gICAgLyogZGVmYXVsdCB0cmFuc2xhdGUgd2lsbCBjZW50ZXIgdGhlIHRvb2x0aXAgb3ZlciB0aGUgYXJyb3cgKHdoaWNoIGlzIGl0c2VsZlxuICAgICAqIGNlbnRlcmVkIG92ZXIgdGhlIHRvb2x0aXAncyBwYXJlbnQgZWxlbWVudCkgKi9cbiAgICBsZXQgdHJhbnNsYXRlWCA9IGJvZHlCQi53aWR0aCAvIDI7XG5cbiAgICBpZiAodHJhbnNsYXRlWCA+IHBhcmVudENlbnRlcikge1xuICAgICAgICAvKiBjZW50ZXJpbmcgdGhlIHRvb2x0aXAgYm9keSB3b3VsZCBjYXVzZSBpdCB0byBleHRlbmQgcGFzdCB0aGUgbGVmdFxuICAgICAgICAgKiBlZGdlIG9mIHRoZSB2aWV3cG9ydCAqL1xuICAgICAgICB0cmFuc2xhdGVYID0gcGFyZW50Q2VudGVyO1xuICAgIH0gZWxzZSBpZiAocGFyZW50Q2VudGVyICsgdHJhbnNsYXRlWCA+IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCkge1xuICAgICAgICAvKiBjZW50ZXJpbmcgdGhlIHRvb2x0aXAgYm9keSB3b3VsZCBjYXVzZSBpdCB0byBleHRlbmQgcGFzdCB0aGUgcmlnaHRcbiAgICAgICAgICogZWRnZSBvZiB0aGUgKGVmZmVjdGl2ZSkgdmlld3BvcnQgKi9cbiAgICAgICAgdHJhbnNsYXRlWCA9IHBhcmVudENlbnRlciArIGJvZHlCQi53aWR0aCAtXG4gICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsV2lkdGg7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlWCgtJHt0cmFuc2xhdGVYfXB4KWBcbiAgICB9O1xufVxuXG4vKipcbiAqIGJ1aWxkcyBhIENTUyBzdHlsZSBvYmplY3QgdG8gYmUgYXBwbGllZCB0byB0aGUgdG9vbHRpcCBjb250ZW50IGNvbnRhaW5lclxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhdGVcbiAqIEBwYXJhbSB7RWxlbWVudH0gcGFyZW50RWxcbiAqIEBwYXJhbSB7RWxlbWVudH0gYm9keUVsXG4gKiBAcmV0dXJuIHtPYmplY3R9IENTUyBzdHlsZSBvYmplY3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN0eWxlRm9yVG9vbHRpcENvbXBvbmVudChwcm9wcywgc3RhdGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB2aXNpYmlsaXR5OiBzdGF0ZS5zaG93VG9vbHRpcFxuICAgICAgICAgICAgPyBgdmlzaWJsZWBcbiAgICAgICAgICAgIDogYGhpZGRlbmBcbiAgICB9O1xufVxuXG4vKipcbiAqIGJ1aWxkcyBhIENTUyBzdHlsZSBvYmplY3QgdG8gYmUgYXBwbGllZCB0byB0aGUgdG9vbHRpcCBjb250ZW50XG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHNcbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0ZVxuICogQHBhcmFtIHtFbGVtZW50fSBwYXJlbnRFbFxuICogQHBhcmFtIHtFbGVtZW50fSBib2R5RWxcbiAqIEByZXR1cm4ge09iamVjdH0gQ1NTIHN0eWxlIG9iamVjdFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3R5bGVGb3JUb29sdGlwQ29udGVudChwcm9wcykge1xuICAgIHJldHVybiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogcHJvcHMuYmFja2dyb3VuZENvbG9yXG4gICAgfTtcbn1cblxuLyoqXG4gKiBidWlsZHMgYSBDU1Mgc3R5bGUgb2JqZWN0IHRvIGJlIGFwcGxpZWQgdG8gdGhlIHRvb2x0aXAgd3JhcHBlclxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhdGVcbiAqIEBwYXJhbSB7RWxlbWVudH0gcGFyZW50RWxcbiAqIEBwYXJhbSB7RWxlbWVudH0gYm9keUVsXG4gKiBAcmV0dXJuIHtPYmplY3R9IENTUyBzdHlsZSBvYmplY3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN0eWxlRm9yVG9vbHRpcFdyYXBwZXIocHJvcHMsIHN0YXRlLCBwYXJlbnRFbCwgYm9keUVsKSB7XG4gICAgY29uc3Qge1xuICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgc3BhY2luZyxcbiAgICAgICAgekluZGV4XG4gICAgfSA9IHByb3BzO1xuXG4gICAgaWYgKCFwYXJlbnRFbCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuXG4gICAgY29uc3QgYmFzZSA9IHt9O1xuICAgIGNvbnN0IHBhcmVudEJCID0gcGFyZW50RWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgYm9keUJCID0gYm9keUVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgaWYgKHpJbmRleCkge1xuICAgICAgICBiYXNlLnpJbmRleCA9IHpJbmRleDtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKGxvY2F0aW9uKSB7XG4gICAgICAgIGNhc2UgYGJvdHRvbWA6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLmJhc2UsXG4gICAgICAgICAgICAgICAgbGVmdDogcGFyZW50QkIubGVmdCArIChwYXJlbnRCQi53aWR0aCAvIDIpLFxuICAgICAgICAgICAgICAgIHRvcDogcGFyZW50QkIudG9wICsgcGFyZW50QkIuaGVpZ2h0ICsgc3BhY2luZyArIDFcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgYHRvcGA6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLmJhc2UsXG4gICAgICAgICAgICAgICAgbGVmdDogcGFyZW50QkIubGVmdCArIChwYXJlbnRCQi53aWR0aCAvIDIpLFxuICAgICAgICAgICAgICAgIHRvcDogcGFyZW50QkIudG9wIC0gYm9keUJCLmhlaWdodCAtIHNwYWNpbmcgLSAxXG4gICAgICAgICAgICB9O1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc29sZS53YXJuKGB1bmtub3duIHRvb2x0aXAgZGlyZWN0aW9uICcke2xvY2F0aW9ufSdgKTtcblxuICAgICAgICAgICAgcmV0dXJuIGJhc2U7XG4gICAgfVxufVxuIiwiaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcblxuZXhwb3J0IGNvbnN0IFRPT0xUSVBfTE9DQVRJT05fU0hBUEUgPSBQcm9wVHlwZXMub25lT2YoW1xuICAgIGBib3R0b21gLFxuICAgIGB0b3BgXG5dKTtcbiIsImltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQge1xuICAgIGdldFN0eWxlRm9yVG9vbHRpcEFycm93LFxuICAgIGdldFN0eWxlRm9yVG9vbHRpcEJvZHksXG4gICAgZ2V0U3R5bGVGb3JUb29sdGlwQ29tcG9uZW50LFxuICAgIGdldFN0eWxlRm9yVG9vbHRpcENvbnRlbnQsXG4gICAgZ2V0U3R5bGVGb3JUb29sdGlwV3JhcHBlclxufSBmcm9tICcuL2dldFN0eWxlcyc7XG5pbXBvcnQge1xuICAgIFRPT0xUSVBfTE9DQVRJT05fU0hBUEVcbn0gZnJvbSAnLi9zaGFwZXMnO1xuXG5pbXBvcnQgc3R5bGVzIGZyb20gJy4vc3R5bGVzLnNjc3MnO1xuXG5jbGFzcyBUVCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICBjaGlsZHJlbjogUHJvcFR5cGVzLmFueSxcbiAgICAgICAgaWQ6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgICAgbG9jYXRpb246IFRPT0xUSVBfTE9DQVRJT05fU0hBUEUsXG4gICAgICAgIHNwYWNpbmc6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgICAgIHpJbmRleDogUHJvcFR5cGVzLm51bWJlclxuICAgIH1cblxuICAgIC8vIFRPRE86IGltcG9ydCBzb21lIHN0dWZmIGZyb20gdGhlIHN0eWxlIGZpbGUsIGJ1dCB0aGF0IHJlcXVpcmVzIGZpZ3VyaW5nXG4gICAgLy8gaG93IHRvIGxvYWQgaXQgYXQgdW5pdCB0ZXN0IHRpbWUgdG9vXG4gICAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBgIzIyMjIyMmAsXG4gICAgICAgIGxvY2F0aW9uOiBgdG9wYCxcbiAgICAgICAgc3BhY2luZzogMTQsIC8vIHB4XG4gICAgICAgIHpJbmRleDogMFxuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcblxuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgc2hvd1Rvb2x0aXA6IGZhbHNlXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZWwgPSBudWxsO1xuICAgICAgICB0aGlzLnBhcmVudEVsID0gbnVsbDtcbiAgICAgICAgdGhpcy5ib2R5RWwgPSBudWxsO1xuICAgICAgICB0aGlzLmNvbXBvbmVudEVsID0gbnVsbDtcbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgdGhpcy5wYXJlbnRFbCA9IHRoaXMuZWwucGFyZW50RWxlbWVudDtcblxuICAgICAgICB0aGlzLmFwcGx5TGlzdGVuZXJzKHRydWUpO1xuICAgIH1cblxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICB0aGlzLmFwcGx5TGlzdGVuZXJzKGZhbHNlKTtcblxuICAgICAgICB0aGlzLnBhcmVudEVsID0gbnVsbDtcbiAgICAgICAgdGhpcy5lbCA9IG51bGw7XG4gICAgICAgIHRoaXMuYm9keUVsID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb21wb25lbnRFbCA9IG51bGw7XG4gICAgfVxuXG4gICAgb25Nb3VzZUVudGVyID0gKCkgPT4ge1xuICAgICAgICB0aGlzLnNob3coKTtcbiAgICB9XG5cbiAgICBvbk1vdXNlTGVhdmUgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuaGlkZSgpO1xuICAgIH1cblxuICAgIG9uU2Nyb2xsID0gKGUpID0+IHtcbiAgICAgICAgaWYgKCF0aGlzLnN0YXRlLnNob3dUb29sdGlwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZvcmNlVXBkYXRlKCk7XG4gICAgfVxuXG4gICAgYXBwbHlMaXN0ZW5lcnMoZW5hYmxlKSB7XG4gICAgICAgIGlmIChlbmFibGUpIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50RWwuYWRkRXZlbnRMaXN0ZW5lcihgbW91c2VlbnRlcmAsIHRoaXMub25Nb3VzZUVudGVyKTtcbiAgICAgICAgICAgIHRoaXMucGFyZW50RWwuYWRkRXZlbnRMaXN0ZW5lcihgbW91c2VsZWF2ZWAsIHRoaXMub25Nb3VzZUxlYXZlKTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGBzY3JvbGxgLCB0aGlzLm9uU2Nyb2xsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50RWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihgbW91c2VlbnRlcmAsIHRoaXMub25Nb3VzZUVudGVyKTtcbiAgICAgICAgICAgIHRoaXMucGFyZW50RWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihgbW91c2VsZWF2ZWAsIHRoaXMub25Nb3VzZUxlYXZlKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKGBzY3JvbGxgLCB0aGlzLm9uU2Nyb2xsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhpZGUoKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHNob3dUb29sdGlwOiBmYWxzZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2hvdygpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc2hvd1Rvb2x0aXA6IHRydWVcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgY2hpbGRyZW4sXG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIGxvY2F0aW9uXG4gICAgICAgIH0gPSB0aGlzLnByb3BzO1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBzaG93VG9vbHRpcFxuICAgICAgICB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgY29uc3QgdmlzaWJpbGl0eUNsYXNzID0gc2hvd1Rvb2x0aXBcbiAgICAgICAgICAgID8gc3R5bGVzLnZpc2libGVcbiAgICAgICAgICAgIDogc3R5bGVzLmludmlzaWJsZTtcbiAgICAgICAgY29uc3QgYXJyb3dDbGFzc05hbWUgPVxuICAgICAgICAgICAgYCR7c3R5bGVzLmFycm93fSAke3N0eWxlc1tsb2NhdGlvbl19ICR7dmlzaWJpbGl0eUNsYXNzfWA7XG4gICAgICAgIGNvbnN0IGJvZHlDbGFzc05hbWUgPSBgJHtzdHlsZXNbbG9jYXRpb25dfSAke3Zpc2liaWxpdHlDbGFzc31gO1xuICAgICAgICBjb25zdCBjb21wb25lbnRDbGFzc05hbWUgPSBgJHtzdHlsZXNbbG9jYXRpb25dfSAke3Zpc2liaWxpdHlDbGFzc31gO1xuICAgICAgICBjb25zdCB3cmFwcGVyQ2xhc3NOYW1lID1cbiAgICAgICAgICAgIGAke3N0eWxlcy53cmFwcGVyfSAke3N0eWxlc1tsb2NhdGlvbl19ICR7dmlzaWJpbGl0eUNsYXNzfWA7XG4gICAgICAgIGNvbnN0IGFycm93U3R5bGUgPSBnZXRTdHlsZUZvclRvb2x0aXBBcnJvdyh0aGlzLnByb3BzLCB0aGlzLnN0YXRlLFxuICAgICAgICAgICAgdGhpcy5wYXJlbnRFbCwgdGhpcy5ib2R5RWwpO1xuICAgICAgICBjb25zdCBib2R5U3R5bGUgPSBnZXRTdHlsZUZvclRvb2x0aXBCb2R5KHRoaXMucHJvcHMsIHRoaXMuc3RhdGUsXG4gICAgICAgICAgICB0aGlzLnBhcmVudEVsLCB0aGlzLmJvZHlFbCk7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudFN0eWxlID0gZ2V0U3R5bGVGb3JUb29sdGlwQ29tcG9uZW50KHRoaXMucHJvcHMsXG4gICAgICAgICAgICB0aGlzLnN0YXRlLCB0aGlzLnBhcmVudEVsLCB0aGlzLmJvZHlFbCk7XG4gICAgICAgIGNvbnN0IGNvbnRlbnRTdHlsZSA9IGdldFN0eWxlRm9yVG9vbHRpcENvbnRlbnQodGhpcy5wcm9wcywgdGhpcy5zdGF0ZSxcbiAgICAgICAgICAgIHRoaXMucGFyZW50RWwsIHRoaXMuYm9keUVsKTtcbiAgICAgICAgY29uc3Qgd3JhcHBlclN0eWxlID0gZ2V0U3R5bGVGb3JUb29sdGlwV3JhcHBlcih0aGlzLnByb3BzLCB0aGlzLnN0YXRlLFxuICAgICAgICAgICAgdGhpcy5wYXJlbnRFbCwgdGhpcy5ib2R5RWwpO1xuXG4gICAgICAgIC8qIG9uTW91c2VFbnRlcj17dGhpcy5vbk1vdXNlTGVhdmV9IGlzIHJpZ2h0IC0gd2Ugd2FudCB0byBoaWRlIHRoZVxuICAgICAgICAgKiB0b29sdGlwIGlmIHRoZSBjdXJzb3IgZW50ZXJzIGl0ICovXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXt3cmFwcGVyQ2xhc3NOYW1lfVxuICAgICAgICAgICAgICAgIGlkPXtpZH1cbiAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9e3RoaXMub25Nb3VzZUxlYXZlfVxuICAgICAgICAgICAgICAgIHJlZj17KHJlZikgPT4gdGhpcy5lbCA9IHJlZn1cbiAgICAgICAgICAgICAgICByb2xlPVwidG9vbHRpcFwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3dyYXBwZXJTdHlsZX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y29tcG9uZW50Q2xhc3NOYW1lfVxuICAgICAgICAgICAgICAgICAgICByZWY9eyhyZWYpID0+IHRoaXMuY29tcG9uZW50RWwgPSByZWZ9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXtjb21wb25lbnRTdHlsZX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Ym9keUNsYXNzTmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZj17KHJlZikgPT4gdGhpcy5ib2R5RWwgPSByZWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17Ym9keVN0eWxlfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXtjb250ZW50U3R5bGV9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXthcnJvd0NsYXNzTmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXthcnJvd1N0eWxlfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUVDtcbiJdLCJuYW1lcyI6WyJnZXRTdHlsZUZvclRvb2x0aXBBcnJvdyIsInByb3BzIiwibG9jYXRpb24iLCJiYWNrZ3JvdW5kQ29sb3IiLCJzaWRlIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzbGljZSIsImdldFN0eWxlRm9yVG9vbHRpcEJvZHkiLCJzdGF0ZSIsInBhcmVudEVsIiwiYm9keUVsIiwicGFyZW50QkIiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJib2R5QkIiLCJwYXJlbnRDZW50ZXIiLCJsZWZ0Iiwid2lkdGgiLCJ0cmFuc2xhdGVYIiwiZG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGllbnRXaWR0aCIsInNjcm9sbFdpZHRoIiwiZ2V0U3R5bGVGb3JUb29sdGlwQ29tcG9uZW50Iiwic2hvd1Rvb2x0aXAiLCJnZXRTdHlsZUZvclRvb2x0aXBDb250ZW50IiwiZ2V0U3R5bGVGb3JUb29sdGlwV3JhcHBlciIsInNwYWNpbmciLCJ6SW5kZXgiLCJiYXNlIiwidG9wIiwiaGVpZ2h0Iiwid2FybiIsIlRPT0xUSVBfTE9DQVRJT05fU0hBUEUiLCJQcm9wVHlwZXMiLCJvbmVPZiIsIm9uTW91c2VFbnRlciIsInNob3ciLCJvbk1vdXNlTGVhdmUiLCJoaWRlIiwib25TY3JvbGwiLCJlIiwiX3RoaXMiLCJmb3JjZVVwZGF0ZSIsImVsIiwiY29tcG9uZW50RWwiLCJ0aGlzIiwicGFyZW50RWxlbWVudCIsImFwcGx5TGlzdGVuZXJzIiwiZW5hYmxlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzZXRTdGF0ZSIsImNoaWxkcmVuIiwiaWQiLCJ2aXNpYmlsaXR5Q2xhc3MiLCJzdHlsZXMiLCJ2aXNpYmxlIiwiaW52aXNpYmxlIiwiYXJyb3dDbGFzc05hbWUiLCJhcnJvdyIsImJvZHlDbGFzc05hbWUiLCJjb21wb25lbnRDbGFzc05hbWUiLCJ3cmFwcGVyQ2xhc3NOYW1lIiwid3JhcHBlciIsImFycm93U3R5bGUiLCJib2R5U3R5bGUiLCJjb21wb25lbnRTdHlsZSIsImNvbnRlbnRTdHlsZSIsIndyYXBwZXJTdHlsZSIsIlJlYWN0IiwicmVmIiwiX3RoaXMyIiwic3R5bGUiLCJDb21wb25lbnQiLCJUVCIsInByb3BUeXBlcyIsInN0cmluZyIsImFueSIsImlzUmVxdWlyZWQiLCJudW1iZXIiLCJkZWZhdWx0UHJvcHMiXSwibWFwcGluZ3MiOiJ3OEVBWUEsU0FBZ0JBLHdCQUF3QkMsT0FFaENDLEVBRUFELEVBRkFDLFNBQ0FDLEVBQ0FGLEVBREFFLGdCQUVFQyxLQUFVRixFQUFTRyxPQUFPLEdBQUdDLGNBQWdCSixFQUFTSyxNQUFNLHFDQUdwREgsVUFBY0QsR0FZaEMsU0FBZ0JLLHVCQUF1QlAsRUFBT1EsRUFBT0MsRUFBVUMsT0FDdERELElBQWFDLGVBTVpDLEVBQVdGLEVBQVNHLHdCQUNwQkMsRUFBU0gsRUFBT0Usd0JBQ2hCRSxFQUFlSCxFQUFTSSxLQUFRSixFQUFTSyxNQUFRLEVBR25EQyxFQUFhSixFQUFPRyxNQUFRLFNBRTVCQyxFQUFhSCxJQUdBQSxFQUNOQSxFQUFlRyxFQUFhQyxTQUFTQyxnQkFBZ0JDLGdCQUcvQ04sRUFBZUQsRUFBT0csTUFDL0JFLFNBQVNDLGdCQUFnQkUsdUNBSUhKLFNBWWxDLFNBQWdCSyw0QkFBNEJ0QixFQUFPUSxxQkFFL0JBLEVBQU1lLGdDQWMxQixTQUFnQkMsMEJBQTBCeEIsMEJBRWpCQSxFQUFNRSxpQkFZL0IsU0FBZ0J1QiwwQkFBMEJ6QixFQUFPUSxFQUFPQyxFQUFVQyxPQUUxRFQsRUFHQUQsRUFIQUMsU0FDQXlCLEVBRUExQixFQUZBMEIsUUFDQUMsRUFDQTNCLEVBREEyQixXQUdDbEIsZUFJQ21CLEtBQ0FqQixFQUFXRixFQUFTRyx3QkFDcEJDLEVBQVNILEVBQU9FLCtCQUVsQmUsTUFDS0EsT0FBU0EsR0FHVjFCLG1DQUdPMkIsUUFDR2pCLEVBQVNJLEtBQVFKLEVBQVNLLE1BQVEsTUFDbkNMLEVBQVNrQixJQUFNbEIsRUFBU21CLE9BQVNKLEVBQVUsaUNBSTdDRSxRQUNHakIsRUFBU0ksS0FBUUosRUFBU0ssTUFBUSxNQUNuQ0wsRUFBU2tCLElBQU1oQixFQUFPaUIsT0FBU0osRUFBVSwyQkFHMUNLLG1DQUFtQzlCLE9BRXBDMkIsR0NySVosSUFBTUksdUJBQXlCQyxVQUFVQyxrRENpQ2hDbEMsaUhBQ0ZBLGFBMEJWbUMsYUFBZSxhQUNOQyxVQUdUQyxhQUFlLGFBQ05DLFVBR1RDLFNBQVcsU0FBQ0MsR0FDSEMsRUFBS2pDLE1BQU1lLGVBSVhtQixpQkFyQ0FsQyxvQkFDWSxLQUVabUMsR0FBSyxPQUNMbEMsU0FBVyxPQUNYQyxPQUFTLE9BQ1RrQyxZQUFjLDBGQUlkbkMsU0FBV29DLEtBQUtGLEdBQUdHLG1CQUVuQkMsZ0JBQWUsdURBSWZBLGdCQUFlLFFBRWZ0QyxTQUFXLFVBQ1hrQyxHQUFLLFVBQ0xqQyxPQUFTLFVBQ1RrQyxZQUFjLDRDQW1CUkksR0FDUEEsUUFDS3ZDLFNBQVN3Qyw4QkFBK0JKLEtBQUtWLG1CQUM3QzFCLFNBQVN3Qyw4QkFBK0JKLEtBQUtSLHFCQUMzQ1ksMEJBQTJCSixLQUFLTixpQkFFbEM5QixTQUFTeUMsaUNBQWtDTCxLQUFLVixtQkFDaEQxQixTQUFTeUMsaUNBQWtDTCxLQUFLUixxQkFDOUNhLDZCQUE4QkwsS0FBS04sK0NBS3pDWSxTQUFTLCtCQUVPLHlDQU1oQkEsU0FBUywrQkFFTyxtREFVakJOLEtBQUs3QyxNQUhMb0QsSUFBQUEsU0FDQUMsSUFBQUEsR0FDQXBELElBQUFBLFNBS0VxRCxFQURGVCxLQUFLckMsTUFETGUsWUFHRWdDLE9BQU9DLFFBQ1BELE9BQU9FLFVBQ1BDLEVBQ0NILE9BQU9JLFVBQVNKLE9BQU90RCxPQUFhcUQsRUFDckNNLEVBQW1CTCxPQUFPdEQsT0FBYXFELEVBQ3ZDTyxFQUF3Qk4sT0FBT3RELE9BQWFxRCxFQUM1Q1EsRUFDQ1AsT0FBT1EsWUFBV1IsT0FBT3RELE9BQWFxRCxFQUN2Q1UsRUFBYWpFLHdCQUF3QjhDLEtBQUs3QyxNQUFPNkMsS0FBS3JDLE1BQ3hEcUMsS0FBS3BDLFNBQVVvQyxLQUFLbkMsUUFDbEJ1RCxFQUFZMUQsdUJBQXVCc0MsS0FBSzdDLE1BQU82QyxLQUFLckMsTUFDdERxQyxLQUFLcEMsU0FBVW9DLEtBQUtuQyxRQUNsQndELEVBQWlCNUMsNEJBQTRCdUIsS0FBSzdDLE1BQ3BENkMsS0FBS3JDLE1BQU9xQyxLQUFLcEMsU0FBVW9DLEtBQUtuQyxRQUM5QnlELEVBQWUzQywwQkFBMEJxQixLQUFLN0MsTUFBTzZDLEtBQUtyQyxNQUM1RHFDLEtBQUtwQyxTQUFVb0MsS0FBS25DLFFBQ2xCMEQsRUFBZTNDLDBCQUEwQm9CLEtBQUs3QyxNQUFPNkMsS0FBS3JDLE1BQzVEcUMsS0FBS3BDLFNBQVVvQyxLQUFLbkMsZUFLcEIyRCxxQ0FDZVAsS0FDUFQsZUFDVVIsS0FBS1IsaUJBQ2QsU0FBQ2lDLFVBQVFDLEVBQUs1QixHQUFLMkIsUUFDbkIsZ0JBQ0VGLHdDQUdRUCxNQUNOLFNBQUNTLFVBQVFDLEVBQUszQixZQUFjMEIsU0FDMUJKLHdDQUdRTixNQUNOLFNBQUNVLFVBQVFDLEVBQUs3RCxPQUFTNEQsU0FDckJMLDhCQUVGTyxNQUFPTCw0Q0FLRFQsUUFDSk0sYUFsSmRLLE1BQU1JLFdBQWpCQyxHQUNLQywyQkFDYzFDLFVBQVUyQyxnQkFDakIzQyxVQUFVNEMsT0FDaEI1QyxVQUFVMkMsT0FBT0Usb0JBQ1g5QywrQkFDREMsVUFBVThDLGNBQ1g5QyxVQUFVOEMsUUFQcEJMLEdBWUtNLCtEQUdNLFVBQ0QifQ==
